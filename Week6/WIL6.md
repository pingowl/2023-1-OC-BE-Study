# 6주차

## **목표**

**추상 클래스와 인터페이스의 차이에 대해 알아봅시다. 추가적으로 static과 final 그리고 불변 객체에 대하여 알아봅시다.**

****제출해야 할 파일과 파일 경로****

**학습 범위 : 스프링 입문을 위한 자바 객체 지향의 원리와 이해 챕터 4**

---

### abstract 키워드- 추상메서드, 추상 클래스

- **추상 메서드** : 선언부는 있는데 구현부는 없는 메서드
- 추상 메서드를 하나라도 갖고 있는 클래스는 반드시 추상 클래스로 선언해야 한다.
- 추상 메서드 없이 추상 클래스를 선언할 수 있다.

```java
public **abstract** class 동물 {
	**abstract** void sing();
}
```

- 추상 클래스는 인스턴스, 즉 객체를 만들 수 없는 클래스이다.
    - 즉 new를 사용할 수 없다.
- 추상 메서드는 하위 클래스에게 메서드의 구현을 강제한다. 오버라이딩 강제.
- 추상 클래스를 포함하는 클래스는 반드시 추상 클래스여야 한다.

### new 키워드

`Animal pig = new Animal();`

클래스의 인스턴스, 즉 객체를 만들 때마다 new 키워드를 사용한다.

- **객체 생성자 메서드**
- 개발자가 아무런 생성자도 만들지 않으면 자바는 인자가 없는 기본 생성자를 자동으로 만든다.
- 인자가 있는 생성자를 하나라도 만들면 자바는 기본 생성자를 만들어 주지 않는다.

### static 블록 - 클래스 생성 시의 실행 블록

클래스 생성자는 존재하지 않는다. 

대신 클래스가 스태틱 영역에 배치될 때 실행되는 코드 블록이 있다. —> static 블록

```java
public class 동물 {
	static {
		System.out.println("ready");
	}
}
```

- static 블록에서 사용할 수 있는 속성과 메서드는 static 멤버 뿐이다.
- static 블록에서는 샛체 멤버에 접근할 수 없다. 클래스의ㅡ 스태틱 블록이 실행되고 있을 때에는 해당 클래스의 객체는 하나도 존재하지 않기 때문.
- 패키지 또는 클래스가 처음으로 사용될 때 스태틱 영역에 로딩된다.
- 클래스의 인스턴스를 여러개 만들어도 클래스의 static 블록은 단 한번만 실행된다.
- 클래스 정보는 해당 클래스가 코드에서 맨 처음 사용될 때 T 메모리의 스태틱 영역에 로딩되고,ㅡ이때 단 한번 해당 클래스의 스태틱 블록이 실행된다.
- **클래스가 제일 처음 사용될 때**
    - 클래스의 정적 속성을 사용할 때
    - 클래스의 정적 메서드를 사용할 때
    - 클래스의 인스턴스를 최초로 만들 때

- **해당 클래스를 처음 사용할 때 메모리에 로딩하는 이유**
    - 메모리는 최대한 늦게 사용 시작하고 최대한 빨리 반환하는 것이 정석이다.
    - 자바는 스태틱 영역에 한번 올라가면 프로그램이 종료되기 전까지는 해당 메모리를 반환할 수 없다.
    - Junit `@BeforeClass`

*** `인스턴스 블록`  존재함

### final 키워드

- `final 클래스` : 상속 허락하지 않음. 하위 클래스 만들 수 없음
- `final 변수` : 변경 불가능한 상수가 된다. 정적 상수는 선언 시에, 또는 정적 생성자에 해당하는 static 블록 내부에서 초기화 가능
- `final 메서드` : 오버라이딩 금지

### instanceof 연산자

인스턴스는 클래스를 총해 만들어진 객체.

instatnceof 연산자는 만들어진 객체가 특정 클래스의 인스턴스인지 물어보는 연산자다.

true / false 반환.

`theAnimal instanceof Animal`

객체 참조 변수의 타입이 아닌 실제 객체 타입에 의해 처리한다.

- 객체 지향 설계 5원칙 가운데 LSP(리스코프 치환 원칙)을 어기는 코드에서 주로 나타는 연산자이므로 주의.
- 클래스의 상속 관계 외에도 인터페이스의 구현 관계에서도 적용 가능.

### package 키워드

네임스페이스(이름공간) 만드는 역할

### interface 키워드, implements 키워드

- 인터페이스는 public 추상 메서드와 public 정적 상수만 가질 수 있다.
    
    —> 따로 메서드에 public과 abstract을, 속성에 public, static, final 안 붙여도 자동으로 자바가 붙여준다.
    
    그래도 명확하게 표시하는 게 좋다.
    

### this 키워드

객체가 자기 자신을 지창할 때 사용하는 키워드

```java
class 펭귄 {
	int var = 1;

	void foo() {
		int var = 2;
		
		System.out.println(var); // 2
		System.out.println(this.var); // 1
	}
}
```

- 지역 변수와 속성(객체 변수, 정적변수)의 이름이 같은 경우 지역 변수가 우선한다.
- **객체 변수**와 이름이 같은 **지역 변수**가 있는 경우, 객체 변수를 사용하려면 **this**를 접두사로 사용한다.
- **정적 변수**와 이름이 같은 **지역 변수**가 있는 경우, 객체 변수를 사용하려면 **클래스명을** 접두사로 사용한다.

### super 키워드

바로 위 상위 클래스의 인스턴스를 지칭하는 키워드.

super.super 형태로 상위의 상위 클래스 인스턴스에는 접근 불가능

### 참고

- JVM은 특정 **객체 멤버 메서드**를 스태틱 영역에 단 **하나**만 보유한다.
    - 그 메서드를 호출 할 때 객체 자신을 나타내는 this 객체 참조 변수를 넘긴다.
    - 객체 멤버 메서드는 각 객체별로 달라지는 것이 아니다.
    객체 멤버 메서드에서 사용하는 객체 멤버 속성의 값만 다를 뿐이다.

---

**<필수 정리 내용>**



**책을 읽고 아래 키워드에 대해 정리하시오.**

1.**추상 클래스와 인터페이스**

- 추상 클래스 : 클래스 내 ‘추상 메소드’가 하나 이상 포함되거나 abstract로 정의된 경우. 상속 후 기능 확장 목적.

- 인터페이스 : 모든 메서드가 추상 메소드.

추상 클래스, 인터페이스 둘다 상속받는 클래스 또는 구현하는 인터페이스 안에 있는 추상 메서드를 구현하도록 강제한다. 함수 구현 강제해서 객체의 동일한 동작 보장 목적.

2.**static과 final 그리고 불변 객체**

- static : 객체마다 가질 필요가 없는 공용으로 사용하는 필드 혹은 인스턴스 필드를 포함하지 않는 메소드
- final : 변수, 메소드, 클래스를 선언할 때 사용하는 키워드. 한번만 할당되며, 값이 변경되지 않도록 보장한다.
- static final : 모든 영역에서 고정된 값으로 사용하는 상수
- 불변 객체 : 한 번 생성되면 내부 상태가 변경되지 않는 객체. 불변 객체는 스레드 안정성(멀테스레드 상황에서 하나의 자원을 공유하며 생기는 문제로부터 자유로움)을 보장하고, 메모리 누수나 예기치 않은 동작 방지함.

**<선택 정리 내용>**


**책을 읽고 다음 질문에 답하시오.**

1.**static 으로 선언한 변수의 초기화 시점에 관한 아래 문항에 답하시오.**

**(1) 일반적인 인스턴스 변수들은 객체 생성 시에 초기화된다. static 변수도 동일할 지에 대해 서술하시오.**

다르다.

**(2) [심화] JVM 의 동작 원리를 살펴보며, 이중에서 static 변수가 초기화되는 시점을 특정하시오.** (관련 레퍼런스를 읽어보고 답변하시면 도움이 되실 수 있습니다.)

[[JAVA] JVM 동작원리 및 기본개념](https://steady-snail.tistory.com/67)

static 변수는 JVM에 의해 클래스가 메모리 공간에 올라가는 순간 초기화된다.

2.**불변 객체(Immutable Object)의 장단점을 정리하시오.**

- 장점 : 병렬 프로그램에 유용하고, 동기화 고려 안 해도 된다. 안정성이 있다.
    
    가비지 컬렉션의 성능을 높일 수 있다. (불변객체 내부의 객체에 대해서는 GC 스캔 대상에 제외)
    
- 단점 : 상태 변화가 필요한 경우 새로운 객체를 생성해야 한다. 새로운 객체를 많이 생성하는 경우 성능 문제가 발생할 수 있다