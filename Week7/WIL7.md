# 7주차

## **목표**

**SOLID에 대하여 알아봅시다.**

**학습 범위 : 스프링 입문을 위한 자바 객체 지향의 원리와 이해 챕터 5**

---

### SOLID

- SRP(Single responsibility Principle)- 단일 책임 원칙
- OCP(Open Closed Principle) - 개방 폐쇄 원칙
- LSP(Liskov Substitution Principle) - 리스코프 치환 법칙
- ISP(Interface Segregation Principle) - 인터페이스 분리 원칙
- DIP(Dependency Inversion Principle) - 의존 역전 원칙

**응집도는 높이고(High Cohesion), 결합도는 낮추라는(Loose Coupling)** 고전원칙을 객체 지향의 관점으로 재정립한 것.

- **결합도** : 모듈(클래스) 간의 상호 의존 정도. 결합도 낮으면 객체의 재사용성, 수정, 유지보수 용이함.
- **응집도** : 하나의 모듈 내부에 존재하는 구성 요소들의 기능적 관련성. 응집도 높으면 모듈 독맂성이 높아져 재사용, 기능 수정, 유지보수 용이

<br>

### SRP - 단일 책임 원칙

**어떤 클래스를 변경해야하는 이유는 오직 하나뿐이어야 한다.**

예) 남자 —> 아들/ 사원/ 소대원. 여러개의 클래스로 분리.

하나의 속성이 여러 의미를 갖는 것도 단일 책임 원칙을 지키지 못하는 경우.

메서드가 단일 책임 원칙을 지키지 않을 경우 나타나는 대표적인 냄새는 분기처리를 위한 if 문.

단일 책임 원칙과 가장 관계가 깊은 것은 추상화.

애플리케이션의 경계를 정하고 추상화를 통해 클래스들을 선별하고 속성과 메서드를 설계할 때 반드시 단일 책임 원칙 고려해야 한다.

리팩토링할 때도 고려.

<br>

### OCP - 개방 폐쇄 원칙

**자신의 확장에는 열려 있고, 주변의 변화에는 닫혀 있어야 한다.**

운전자 —> 자동차( 창문개방(), 기어조작() ).  < — 마티즈( 창문개방(), 기어조작() ) ,   쏘나타(창문개방(), 기어조작())

다양한 자동차가 생긴다는 것은 자동차 입장에서는 ‘자신의 확장에 개방되어 있는 것’이고, 

운전자 입장에서는 ‘주변의 변화에 폐쇄돼 있는 것’이다.

예시2) JDBC를 사용하는 클라이언트는 데이터베이스가 오라클애서 MySQL로 바뀌더라도 Connection을 따로 설정하는 부분 외에는 따로 수정할 필요가 없다.

—> 데이터베이스 교체 == 데이터베이스는 자신의 확장에 열려 있음

자바 애플리테이션은 JDBC 인타페이스라는 완충장치로 인해 변화룰 받지 않는다.

예시3) 각 운영채제별 JVM과 목적파일(.class)이 있기에 개발자는 다양한 구동 환경에 대해서 걱정하지 않고 본인이 작업하고 있는 개발PC에 설치된 JVM에서 구동되는 코드만 작성하면 된다.

개방 폐쇄 원칙을 무시히고 프로그램을 작성하면 객체 지향 프로그래밍의 가장 큰 장점인 유연성, 재사용성, 우지보수성 등을 얻을 수 없다. 따라서 객체 지향 프로그래밍에서 개방 폐쇄 원칙은 반드시 지켜야할 원칙이다.

<br>

### LSP - 리스코프 치환 원칙

**서브 타입은 언제나 자신의 기반 타입(base type)으로 교체할 수 있어야 한다.**

1.하위 클래스  is a kind of 상위 클래스- 하위 분류는 상위 분류의 한 종류다.

2.구현 클래스 is able to 인터페이스 - 구현 분류는 인터페이스할 수 있어야 한다.

위의 2가지로 구현된 프로그램은 리스코프 치환 원칙을 잘 지키고 있다.

하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는 데 문제가 없어야 한다.

<br>

### ISP - 인터페이스 분리 원칙

**클라이언트는 자신이 사용하지 않는 메서드에 의존 관계를 맺으면 안된다.**

SRP와 ISP는 같은 문제에 대한 두 가지 다른 해결책.

프로젝트 요구사항이나 설계자의 취향에 따라 선택한다. 단 특별한 경우가 아니라면 단일 책임 원칙을 적용하는 것이 더 좋은 해결책이다.

인터페이스 최소주의 원칙 : 인터페이스를 통해 메서드를 외부에 제공할 때는 최소한의 메서드만 제공하라.

빈약한 상위 클래스를 이용한 경우에는 여기저기 형변환ㅇ; 일아니먄서 상속의 혜택을 제대로 누리지 못한다.

<br>

### DIP - 의존 역전 원칙

**자신보다 변하기 쉬운 것에 의존하지 마라.**

고차원적 모듈은 저차원 모듈에 의존하면 안 된다. 이 두 모듈 모두 다른 추상화된 것에 의존해야 한다.

추상화된 것은 구체적인 것에 의존하면 안 된다. 구체적인 것이 츠상화된 것에 의존해야 한다.

자주 변경되는 구체(Concrete) 클래스에 의전하지 마라.

예) 자동차는 한 번 사면 몇 년은 타는 반면 스노우타이어는 계절이 바뀌면 일반 타이어로 교체한다.

자동차는 자신보다 더 자즈 변하는 스노우타아어애 의전하면 안된다.

자동차는 구체적인 타이어들이 아닌 추상화된 타이어 인터페이스에 의전하개 함으로써, 스노우타이어애서 일반 타이어로 또는 다른 구체적 타이어로 변경돼도 자동차는 영향을 받지 않는다.

디자인 패턴이나 객체 지향 설계 5원칙이나 결국 객체 지향 4대 특성(캡상추다)을 활용하는 것이고, 그 대표적인 것이 상속과 다형성이라서 비슷한 모습을 띤다.

자신보다 변하기 쉬운 것에 의존하던 것을 추상화된 인터페이스나 상위 클래스를 두어 변하기 쉬운 것의 변화에 영향받지 않게 하는 것이 의존 역전 원칙이다.

<br>

### 정리

SOLID는 객체 지향을 올바륵- 프로그램에 녹여내기 위한 원칙.

**SoC(관심사의 분리)** : 관심이 같은 것끼리는 하나의 객체 안으로 또는 친한 객체로 모으고, 관심이 다른 것은 가능한 한 따로 떨어져 서로 영향을 주지 않도록 분리하라.

—> 하나의 속성/메서드/클래스/모듈/패키지에는 하나의 관심사만 들어 있어야 한다.

SoC를 적용하면 자연스레 단일책임 원칙, 인터페이스 분리 원칙, 개방 폐쇄 원칙에 도달한다.

---

### 추가 공부

- <클린 소프트웨어>
- “객체 지향 SW 설계의 원칙 ” 기사
    - 자료
        
        78
        스프링 입문을 위한 자바 객체 지향의 원리와 이해
        [객체지향 SW 설계의 원칙] 1 개방-폐쇄 원칙
        [http://www.zdnet.co.kr/news/news_view.asp?artice](http://www.zdnet.co.kr/news/news_view.asp?artice) jd-00000039134727
        
        [객체지향 SW 설계의 원칙] ② 사례연구, 단일 책임 원칙
        [http://www.zdnet.co.kr/news/news](http://www.zdnet.co.kr/news/news) view.asp?artice_id=00000039135552
        
        [객체지향 SW 설계의 원칙] 3 인터페이스 분리의 원칙
        [http://www.zdnet.co.kr/news/news_view.asp?artice_id=00000039139151](http://www.zdnet.co.kr/news/news_view.asp?artice_id=00000039139151)
        
        위 zdnet 기사에서 이미지가 보이지 않는 경우
        [http://www.moazine.com/에](http://www.moazine.com/%EC%97%90) 접속해서 [객체지향 소프트웨어 설계의 원칙들 최상훈]으로 검색하면 마이크로소프트웨어
        원문 기사를 볼 수 있다.
        
        기획 2| 객체지향 소프트웨어 설계의 원칙들 / 최상훈
        기획 2| 객체지향 소프트웨어 설계의 원칙들 2/ 최상훈
        기회 2| 객체지향 소프트웨어 설계의 원칙들 3 / 최상훈
        기획 2 | 객체지향 소프트웨어 설계의 원칙들 4 / 최상훈
        기획 2 | 객체지향 소프트웨어 설계의 원칙들 5 / 최상후
        
        NEXTREE 홈페이지에 정리된 "객체지향 개발 5대 원리: SOLD"도 참고하기 바란다.
        [http://www.nextree.co.kr/p6960/](http://www.nextree.co.kr/p6960/)
        
- Head First Design Patterns
- 토비의 스프링 3.1
- 도메인 주도 설계란 무엇인가(인사이트)
- 도메인 주도 설계(위키북스)