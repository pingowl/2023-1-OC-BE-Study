# 4주차

**목표 : 순차 지향 프로그래밍과 절차 지향 프로그래밍의 특징과 차이를 알아보고, JVM의 개념과 구조를 학습**

**학습 범위 : 스프링 입문을 위한 자바 객체 지향의 원리와 이해 챕터 1 ~ 2**

---

<aside>
📎 jdk - java development kit 자바 개발 도구. JVM용 소프트웨어 개발 도구

JRE - java runtime environment 자바 실행 환경. JVM용 OS

JVM - java virtual machine 자바 가상 기계. 가상의 컴퓨터

</aside>

—> JDK를 이용해 개발된 프로그램은 JRE에 의해 가상의 컴퓨터인 JVM 상에서 구동된다.

단, 배포되는 JDK, JRE, JVM은 편의를 위해, JDK가 JRE를 포함하고, JRE는 JVM을 포함하는 형태로 배포된다. 

Java : Write Once Run Anywhere

모든 프로그램은 구동되기 위해서는 프로그램 구동시에 운영체제로부터 메모리(RAM) 공간을 할당받아야 한다. 자바로 만들어진 프로그램은 JVM을 통해 실행되고 이 JVM은 프로그램을 동작할 때 OS로부터 메모리를 할당한다.

### 프로그램이 메모리를 사용하는 방식

: 코드실행 영역 + 데이터 저장 영역(T 메모리라고 부르자)

—> 객체 지향 프로그램 : **코드실행 영역 + (static 영역+stack 영역+heap 영역)**

- static 영역 : 클래스들 / 스택 영역: 메서드들 / 힙 영역: 객체들

(STS 또는 이클립스 디버깅 사용해서 확인 가능)

### 자바에 녹아있는 절차적/구조적 프로그래밍의 유산

java에는 **goto**, const(대신 final 씀)를 안 쓴다.

goto를 사용하면 프로그램의 실행 순서가 인간이 이해하기에 너무 복잡해질 수 있기 때문.

- **구조적 프로그래밍: 함수를 쓰자**. —> 중복 코드 모아서 관리가능, 논리를 함수 단위로 분리해서 이해하기 쉬운 코드 작성 가능
    - 객체지향 언어에서의 메서드
- 함수 vs 메서드 : 같음. 함수는 클래스나 객체와 아무 관련이 없지만 메서드는 반드시 클래스 정의 안에 존재해야 한다.
    - 객체 지향 언어에서 클래스 외부에 존재할 수 있는 것은 없다. import는 편의 기능일뿐.

- 여는 중괄호( { )를 만나면 스택 프레임이 시작되고 닫는 중괄호를 만나면 스ㅐㄱ 프레임이 스택 영역에서 사라진다.
- if 문의 블록 스택 프레임은 메서드의 스택 프레임 안에 중첩되어 생성된다.
- 외부 스택 프레임에서 내부 스택 프레임의 변수에 접든하는 것은 불가능하나 그 역은 가능하다.
- **두 메서드 사이에 값을 전달받는 방법** :
    - 메서드 호출할 때 메서드의 인자 이용
    - 메서드 종료할 때 반환값 넘겨주는 방법
    - 전역 변수 사용

- **멀티 스레드(Multi Thread)**
    - 스택 영역을 스레드 개수만큼 분할해서 사용
    - **전역 변수** 사용하면 문제 생김. (스레드 안정성 깨짐)
- **멀티 프로세스 (Multi Process)**
    - 다수의 데이터 저장 영역(다수의 T 메모리를 가짐)

—> “서블릿은 요청당 프로세스가 아닌 요청당 스레드를 생성한다”

---

**< 필수 정리 내용 >**

1.**순차 지향 프로그래밍과 절차 지향 프로그래밍의 특징과 차이**

- **순차 지향 프로그램**
    - 비구조적.
    - 알고리즘의 프로세서가 일년의 절차에 의해 물흐르는 것처럼 순차적으로 처리 돌아가게 되는 프로그래밍
    - 유지보수가 어렵다. 프로그램 전체가 한덩어리기 때문에 알고리즘이 복잡해지고 길어질수록 수정하려면 전체를 다 봐야하고 알고리즘이 꼬일수가 있다
    - 구조라는 개념이 없다. goto문을 사용해서 코드를 짜게 된다.
    - 모든 코딩 패러다임이 순차적 프로그래밍은 아니다

- **절차 지향 프로그램**
    - 구조적.
    - **프로시저** 호출의 개념을 바탕으로 함
        - 프로시저는 루틴, 하위프로그램, 서브루틴, 메서드, **함수**(수학적 함수와는 다르고 [함수형 프로그래밍](https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98%ED%98%95_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)에 있는 함수와는 비슷한 의미이다.)라고도 하는데, 간단히 말하여 수행되어야 할 연속적인 계산 과정을 포함하고 있다.

2.**JVM의 역할과 가비지컬렉션(GC)이란?**

- JVM의 역할
    - 자바 프로그램 실행환경을 만들어 주는 소프트웨어
    - .java의 바이트 코드는 기계어가 아니기 때문에 JVM이 해당 운영체제가 이해할 수 있는 기계어로 변환하여 전달한다
        - **J**VM을 사용하면 하나의 바이트 코드(.class)로 모든 플랫폼에서 동작하도록 할 수 있다
- Garbage Collection
    - 유효하지 않은 메모리인 가바지(Garbage)를 정리하는 것
    - GC을 실행하기 위해 JVM이 애플리케이션 실행을 멈춘다. (stop-the-world)
        - GC 작업을 완료한 이후에야 중단했던 작업을 다시 시작한다. 어떤 GC 알고리즘을 사용하더라도 stop-the-world는 발생한다. 대개의 경우 GC 튜닝이란 이 stop-the-world 시간을 줄이는 것이다.

3.**메소드, 힙, 스택 영역에 각각 어떤 게 존재하는지?**

- 메소드 영역(static 영역) : 전역 변수, 정적(static) 멤버 변수, class 정보 등
- 힙 영역 : 지역변수, 인자값, 리턴값, 메소드 안에서 사용되는 기본형 변수들이 값과 함께 저장되고 Heap 영역에 생성된 객체들을 참조하는 주소값이 할당
- 스택 영역 : 자바 프로그램에서 사용되는 모든 인스턴스 변수(객체)들. new를 사용하여 객체를 생성하면 힙 영역에 저장됨

4.**“클래스는 붕어빵 틀이고 객체는 붕어빵이다.” 에 대해서 논하시오.**

클래스는 객체를 만들어 내기 위한 설계도(틀)이다.

**<선택 정리 내용>**

**[1~3] O/X 중 고르시오.**

1.절차지향 프로그래밍은 객체지향 프로그래밍의 반대 개념이다. (X)

2.절차지향과 객체지향을 구분하는 방법으론 “상속, 다형성의 유무”가 있다. (O)

3.다음 상황에 대해 답하시오.

```
Integer a = 500;
Integer b = 500;
```

(1) a와 b는 모두 스택 메모리 영역에 저장 공간을 확보한다. (?)

(2) a.equals(b) 는 참이다. (O)

(3) a == b 는 참이다. (X)


**[4~5] 다음 질문에 답하시오.**

4.객체지향 프로그래밍의 단점은 무엇인가? (성능과 설계 측면에서 각각 서술하시오.)

- 성능
    - 캡슐화와 격리구조에 때문에 절차지향 프로그래밍과 비교하면 **실행 속도가 느리다.**
    - 모든 것을 객체로 생각하기 때문에 추가적인 포인터 크기의 **메모리와 연산에 대한 비용**이 들어가게 된다.
- 설계
    - 클래스별로, 객체별로 설계하고, 상속 등의 구조 또한 설계하여야 하기 때문에, **설계단계부터 많은 시간이 소모**됩니다.

5.객체와 클래스의 차이는 무엇인가?

- 객체 : 클래스의 인스턴스나 배열
- 클래스 : 객체를 정의하는 설계도. 객체의 상태를 나타내는 필드(field)와 객체의 행동을 나타내는 메소드(method)로 구성